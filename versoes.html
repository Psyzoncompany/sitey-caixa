<!DOCTYPE html>
<html lang="pt-br" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="icon" type="image/png" href="img/logo.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/icon-180.png">
  <meta name="apple-mobile-web-app-title" content="PSYZON Caixa">
  <meta name="application-name" content="PSYZON Caixa">
  <meta name="theme-color" content="#0f172a">
  <link rel="manifest" href="/manifest.webmanifest">
  <title>PSYZON - Versões</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">
  <link href="style.css" rel="stylesheet">
</head>
<body class="bg-gray-900 text-gray-200 neo-dashboard min-h-screen">
  <main class="max-w-5xl mx-auto px-4 py-6 md:py-10">
    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-6">
      <div>
        <h1 class="text-2xl md:text-3xl font-bold">Notas de Atualização</h1>
        <p class="text-sm text-gray-400">Histórico de melhorias e correções do site.</p>
      </div>
      <a href="processos.html" class="inline-flex items-center justify-center px-4 py-2 rounded-lg border border-cyan-500/30 text-cyan-300 hover:bg-cyan-500/10">← Voltar</a>
    </div>

    <section class="space-y-4">

      
                  <article class="glass-card p-5 border border-cyan-500/20">
        <div class="flex items-center justify-between gap-3 mb-2">
          <h2 class="text-xl font-bold text-cyan-200">Versão 1.5.15</h2>
          <span class="text-xs text-gray-400">Atual</span>
        </div>
        <ul class="list-disc pl-5 text-sm text-gray-200 space-y-1">
          <li>Corrigido erro <em>"The string did not match the expected pattern"</em> no painel de chaves ao abrir o sistema fora de HTTP/HTTPS.</li>
          <li>Consulta de status Gemini agora usa endpoint absoluto seguro somente quando existe <code>window.location.origin</code> válido.</li>
          <li>Em ambiente <code>file://</code>, o painel exibe aviso claro de que o endpoint <code>/api</code> não está disponível em vez de quebrar.</li>
          <li>Mensagens de falha de conexão no status de chaves agora mostram detalhe técnico para diagnóstico mais rápido.</li>
          <li>Histórico de versões atualizado em continuidade da versão anterior.</li>
        </ul>
      </article>

<article class="glass-card p-5 border border-cyan-500/20">
        <div class="flex items-center justify-between gap-3 mb-2">
          <h2 class="text-xl font-bold text-cyan-200">Versão 1.5.12</h2>
          <span class="text-xs text-gray-400">Anterior</span>
        </div>
        <ul class="list-disc pl-5 text-sm text-gray-200 space-y-1">
          <li>Integração Gemini migrada para endpoint seguro em <code>/api/gemini</code>, evitando exposição de chave no front-end.</li>
          <li>Adicionado handler server-side que lê <code>GEMINI_API_KEY</code> por variável de ambiente.</li>
          <li>Projeto preparado com <code>.env</code> local ignorado no Git e <code>.env.example</code> para facilitar configuração.</li>
          <li>Histórico de versões atualizado em continuidade da versão anterior.</li>
        </ul>
      </article>

<article class="glass-card p-5 border border-cyan-500/20">
        <div class="flex items-center justify-between gap-3 mb-2">
          <h2 class="text-xl font-bold text-cyan-200">Versão 1.5.11</h2>
          <span class="text-xs text-gray-400">Anterior</span>
        </div>
        <ul class="list-disc pl-5 text-sm text-gray-200 space-y-1">
          <li>Corrigido o loop de autenticação que retornava para a tela de login após clicar em <strong>Entrar</strong>.</li>
          <li>As chaves internas do Firebase Auth agora permanecem no <code>localStorage</code> nativo para manter sessão entre páginas.</li>
          <li>Histórico de versões atualizado mantendo continuidade da versão anterior.</li>
        </ul>
      </article>

<article class="glass-card p-5 border border-cyan-500/20">
        <div class="flex items-center justify-between gap-3 mb-2">
          <h2 class="text-xl font-bold text-cyan-200">Versão 1.5.10</h2>
          <span class="text-xs text-gray-400">Anterior</span>
        </div>
        <ul class="list-disc pl-5 text-sm text-gray-200 space-y-1">
          <li>Cards de Processos voltaram a manter o bloco de resumo no estilo de <strong>carrossel interno</strong>.</li>
          <li>No slide financeiro, os chips <strong>Total</strong>, <strong>Pago</strong> e <strong>Falta</strong> ficam lado a lado com <strong>arraste lateral</strong>.</li>
          <li>Tela de login inicial recebeu redesign mais profissional com visual premium (glass + gradientes).</li>
          <li>Login com Google reforçado com persistência local, fallback por redirect e mensagens mais claras em caso de erro de configuração no Firebase.</li>
        </ul>
      </article>

<article class="glass-card p-5 border border-cyan-500/20">
        <div class="flex items-center justify-between gap-3 mb-2">
          <h2 class="text-xl font-bold text-cyan-200">Versão 1.5.9</h2>
          <span class="text-xs text-gray-400">Anterior</span>
        </div>
        <ul class="list-disc pl-5 text-sm text-gray-200 space-y-1">
          <li>Cards de Processos voltaram ao layout padrão de resumo, sem carrossel interno.</li>
          <li>Bloco financeiro mantém os chips <strong>Total</strong>, <strong>Pago</strong> e <strong>Falta</strong> fixos no mesmo card.</li>
          <li>Comportamento de cards iniciando fechados e expandindo ao toque/clique foi mantido.</li>
          <li>Tela de login ganhou botão funcional para autenticação com <strong>Google</strong> via Firebase Auth.</li>
        </ul>
      </article>

<article class="glass-card p-5 border border-cyan-500/20">
        <div class="flex items-center justify-between gap-3 mb-2">
          <h2 class="text-xl font-bold text-cyan-200">Versão 1.5.8</h2>
          <span class="text-xs text-gray-400">Anterior</span>
        </div>
        <ul class="list-disc pl-5 text-sm text-gray-200 space-y-1">
          <li>Bloco financeiro dos cards de Processos deixou de usar carrossel interno.</li>
          <li>Os chips <strong>Total</strong>, <strong>Pago</strong> e <strong>Falta</strong> agora ficam fixos lado a lado no mesmo bloco.</li>
          <li>Mantido o comportamento dos cards começarem fechados e expandirem no toque/clique.</li>
        </ul>
      </article>

      
      <article class="glass-card p-5 border border-cyan-500/20">
        <div class="flex items-center justify-between gap-3 mb-2">
          <h2 class="text-xl font-bold text-cyan-200">Versão 1.5.7</h2>
          <span class="text-xs text-gray-400">Anterior</span>
        </div>
        <ul class="list-disc pl-5 text-sm text-gray-200 space-y-1">
          <li>Cards de Processos agora iniciam <strong>fechados</strong>, exibindo apenas nome do pedido, cliente e data de entrega para economizar espaço.</li>
          <li>Toque/clique no card (ou na seta) para <strong>abrir/fechar</strong> os detalhes completos do processo.</li>
          <li>Bloco financeiro manteve estilo em carrossel e os valores (<strong>Total, Pago e Falta</strong>) agora ficam em chips lado a lado com arraste lateral.</li>
        </ul>
      </article>
<article class="glass-card p-5 border border-cyan-500/20">
        <div class="flex items-center justify-between gap-3 mb-2">
          <h2 class="text-xl font-bold text-cyan-200">Versão 1.5.6</h2>
          <span class="text-xs text-gray-400">Anterior</span>
        </div>
        <ul class="list-disc pl-5 text-sm text-gray-200 space-y-1">
          <li>Link de versões mantido apenas na <strong>Dashboard</strong> e em <strong>Processos</strong>, evitando ajustes em todas as páginas.</li>
          <li>Métricas da Dashboard agora mostram <strong>2 cards por linha</strong> para melhor aproveitamento do espaço.</li>
          <li>Os ícones com <strong>"?"</strong> nas métricas foram trocados por textos diretos (ex.: Saldo Anterior, Receitas e Despesas).</li>
          <li>Botão <strong>"Ver mais métricas"</strong> removido e métricas exibidas direto no bloco principal.</li>
          <li>Card de processos voltou ao layout anterior com bloco financeiro, agora dentro de <strong>carrossel por arraste lateral</strong>.</li>
        </ul>
      </article>
      <article class="glass-card p-5 border border-cyan-500/20">
        <div class="flex items-center justify-between gap-3 mb-2">
          <h2 class="text-xl font-bold text-cyan-200">Versão 1.5.5</h2>
          <span class="text-xs text-gray-400">Anterior</span>
        </div>
        <ul class="list-disc pl-5 text-sm text-gray-200 space-y-1">
          <li>Fluxo de aprovação reforçado com validações defensivas para <code>uid</code>, <code>oid</code> e <code>token</code>.</li>
          <li>Compatibilidade entre os campos <code>productionOrders</code> e <code>production_orders</code> durante leitura e gravação.</li>
          <li>Fallback de imagem na aprovação com placeholder + tratamento de <code>onload/onerror</code>.</li>
          <li>Funções globais <code>approveArt</code> e <code>submitChanges</code> com tratamento de erro para evitar quebra do fluxo.</li>
          <li>Inicialização centralizada do Firebase em <code>js/firebase-init.js</code> para evitar <em>duplicate-app</em>.</li>
          <li>Cópia de texto/link com fallback para <code>execCommand</code> quando <code>navigator.clipboard</code> falhar.</li>
        </ul>
      </article>
    </section>
  </main>



  <nav class="bottom-nav">
    <a href="index.html" class="bottom-nav-item">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" /></svg>
      <span>Início</span>
    </a>
    <a href="central.html" class="bottom-nav-item">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
      <span>Central</span>
    </a>
    <a href="processos.html" class="bottom-nav-item">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" /></svg>
      <span>Processos</span>
    </a>
    <a href="contas.html" class="bottom-nav-item">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H4a3 3 0 00-3 3v8a3 3 0 003 3z" /></svg>
      <span>Contas</span>
    </a>
    <a href="clientes.html" class="bottom-nav-item">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" /></svg>
      <span>Clientes</span>
    </a>
    <button id="mobile-menu-button" class="bottom-nav-item active" type="button">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" /></svg>
      <span>Menu</span>
    </button>
  </nav>

  <script src="theme-toggle.js"></script>
  <script src="cerebro_ia.js"></script>
</body>
</html>
